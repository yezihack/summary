# 正则表达式

### 图形化工具
- [regexper](https://regexper.com/)

### 语法讲解

#### \b 边界符
```regexp
reg = `\bis\b`
str = "This is code"
#不会匹配This中的is,而只匹配is单词
```

#### g, i, m 
- g 是全文搜索
- i 忽略大小写
- m 多行搜索
```regexp
var reg = /is/igm
```

### 字符类匹配
```regexp
var str = "abcdfdafadsa";
var reg = /^[abc]/g

```

### 范围类
```regexp
var reg = /[a-zA-Z]/
```

### 预定义类

|字符|等价|含义|
|:---|:---|:---|
|.|[^\r\n]|除了回车和换行符之外的所有字符|
|\d|[0-9]||
|\D|[^0-9]||
|\s|[\t\n\x0B\f\r]|空白符|
|\S|[^\t\n\x0B\f\r]|空白符|
|\w|[a-zA-Z_0-9]|单词字符(字母,数字,下划线)|
|\W|[^a-zA-Z_0-9]|非单词字符|

### 边界
|字符|含义|
|:---|:---|
|^|以xxx开始|
|$|以xxx结束|
|\b|单词边界|
|\B|非单词边界|

### 量词
|字符|含义|
|:---|:---|
|?|出现零次或一次(最多出现一次)|
|+|出现一次或多次(至少出现一次)|
|*|出现零次或多次(任意次)|
|{n}|出现n次|
|{n,m}|出现n次到m次|
|{n,}|至少出现n次|

### 贪婪模式
- 一般正则会尽量多匹配
```regexp
'123456789'.replace(/\d{3,5}/g, 'A')

"AA"
```
 
### 非贪婪模式,加个?
```regexp
'123456789'.replace(/\d{3,5}?/g, 'A')
"AAA"

```

### 分组 使用()
- 实现分组匹配
- 或 使用 |
```regexp
'helloworld'.replace(/(ow|or)/g, 'A')
"hellAAld"
```

- 反向使用分组
```regexp
'2018/08/15'.replace(/(\d{4})\/(\d{2})\/(\d{2})/, '$2-$3-$1')
"08-15-2018"
```

- 不希望被捕获
```regexp
'2018/08/15'.replace(/(\d{4})\/(\d{2})\/(?:\d{2})/, '$2-$3-$1')
"08-$3-2018"
```

### 前瞻
|字符|正则| 含义|
|:---|:---|:---|
|正向前瞻|exp(?=asset)|(?=asset)不参与替换的,只是断言|
|负向前瞻|exp(?!asset)||
|正向后瞻|exp(?<=asset)||
|负向后瞻|exp(?<!asset)||

```regexp
'a2*33v8'.replace(/\w(?=\d)/g, 'A')
"A2*A3A8"
'a2*3'.replace(/\w(?=\d)/g, 'A')
"A2*3"
```